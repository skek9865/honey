<html th:replace="~{layout/layoutMain:: layout(~{::main})}"
      xmlns:th="http://www.thymeleaf.org">
<FORM name="fm_home" method="post" >
    <main >
        <div class="container-fluid p-2">
            <div class="titleBar" id="titleBar">
                <div class="row">
                    <div class="col titleBar_text"><i class="bi bi-square-half sb-nav-link-icon"></i><span th:text="${title}"></span></div><!--사용자관리 (990101) -->
                    <div class="col titleBar_path" th:text="${path}"></div><!--시스템관리 > 사용자관리 > 사용자관리-->
                </div>
            </div>
            <div class="searchBar" id="searchBar">
                <div class="row">
                    <div class="col-12 fixed-right p-2 px-4">
                        <table>
                            <tr>
                                <td><!--조회 등록 엑셀-->
                                    <button name="query" id="query" type="button" class="btn btn-gfk btn-sm" onclick="lf_confirm(this.name,'','','')">조회</button>&nbsp;
                                    <button name="insert" id="insert" type="button" class="btn btn-gfk btn-sm" data-toggle="modal" data-target="#inputpopup" onclick="lf_confirm(this.name,'','','')">등록</button>&nbsp;
                                    <button name="excel" id="excel" type="button" class="btn btn-gfk btn-sm" onclick="lf_confirm(this.name,'','','')">엑셀</button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="table-responsive text-nowrap" id="tableWrapper">
                <table class="table table-striped tablesorter-blue" id="datatable_1" >
                    <thead>
                    <tr class="tableList_h_tr"><!-- th 렌더링 -->
                        <th>순번</th>
                        <th>관리</th>
                        <th>아이디</th>
                        <th>비밀번호</th>
                        <th>사용자이름</th>
                        <th>전화번호</th>
                        <th>모바일</th>
                        <th>이메일</th>
                        <th>사용자그룹</th>
                        <th>사용여부</th>
                        <th>사원여부</th>
                        <th>사원명</th>
                        <th>등록일자</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="list_tr_1" th:each="user, userStat : ${users}"><!-- td 렌더링 -->
                        <td th:text="${userStat.count}"></td>
                        <td>
                            <button name="update" id="update" type="button" class="btn btn-gfk btn-ssm" data-toggle="modal" data-target="#inputpopup" onclick="lf_confirm(this.name,'systemman','','')">수정</button>&nbsp;
                            <button name="delete" id="delete" type="button" class="btn btn-gfk btn-ssm" onclick="lf_confirm(this.name,'systemman','1','50')">삭제</button>&nbsp;
                        </td>
                        <td th:text="${user.userId}"></td>
                        <td th:text="${user.passwd}"></td>
                        <td th:text="${user.userNm}"></td>
                        <td th:text="${user.phone}"></td>
                        <td th:text="${user.mobile}"></td>
                        <td th:text="${user.email}"></td>
                        <td th:text="${user.userGr}"></td>
                        <td th:text="${user.useYn}"></td>
                        <td th:text="${user.empYn}"></td>
                        <td th:text="${user.empNo}"></td>
                        <td th:text="${user.regDt}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="pageBar p-2" id="pageBar">
            <div class="row ">
                <div class="col-3  pageBar_totrow ">
                    페이지 : <span th:text="${pageMaker.pageable.pageNumber + 1}"></span> / <span th:text="${pageMaker.realEnd}"></span> <i class="bi bi-three-dots-vertical sb-nav-link-icon "></i> 총건수 : <span th:text="${pageMaker.total}"></span>							</div>
                <div class="col-6 ">
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center" id="pageBar_nav">
                            <li th:if="${pageMaker.prev}" class="page-item"><a class="page-link" href="#">&lt</a></li>
                            <th:block th:each="num : ${#numbers.sequence(pageMaker.startPage,pageMaker.endPage)}">
                                <li class="page-item" th:classappend="${pageMaker.pageable.pageNumber+1 == num} ? 'active' : ''"><a class="page-link" href="#" th:text="${num}"></a></li>
                            </th:block>
                            <li th:if="${pageMaker.next}" class="page-item"><a class="page-link" href="#">&gt</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-3  pageBar_pagecnt ">
                    <label for="num_per_page" class="1">화면표시</label> <select class="form-select" id="num_per_page" name="num_per_page">
                    <option value="50" selected="">50 </option><option value="100">100 </option><option value="300">300 </option><option value="500">500 </option><option value="1000">1000 </option><option value="3000">3000 </option><option value="5000">5000 </option></select> 						</div>
            </div>
        </div>
    </main>
    <!-- 페이징 구현 부분 -->
<!--    <c:if test="${pageMaker.prev}">
        <li class="paginate_button previous"><a
                href="${pageMaker.startPage -1}">Previous</a></li>
    </c:if>

    <c:forEach var="num" begin="${pageMaker.startPage}"
               end="${pageMaker.endPage}">
        <li class="paginate_button  ${pageMaker.cri.pageNum == num ? "active":""} ">
        <a href="${num}">${num}</a>
        </li>
    </c:forEach>

    <c:if test="${pageMaker.next}">
        <li class="paginate_button next"><a
                href="${pageMaker.endPage +1 }">Next</a></li>
    </c:if>-->
</FORM>
<script th:src="@{|/js/scripts_sub.js|}"></script>
<script type="text/javascript">
    <!--
    $("#datatable_1").width("<?=$gs_width?>");
    //-->

    $(document).ready(function(){
            gf_menu('99','','','systemman');
        }
    )
</script>